<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Registrera studieresultat</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 880px; margin: 2rem auto; padding: 0 1rem; }
    fieldset { border: 1px solid #ddd; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
    label { display:block; margin:.5rem 0 .25rem; }
    input, select, button { padding:.5rem .6rem; }
    .row { display:flex; gap:1rem; flex-wrap:wrap; }
    .row > * { flex:1 1 240px; }
    .ok { color: #0a7a0a; }
    .err { color: #b00020; }
  </style>
</head>

<body>
  <h1>Registrera studieresultat</h1>

  <fieldset>
    <legend>1) Kurs & moduler</legend>
    <div class="row">
      <div>
        <label for="kurskod">Kurskod</label>
        <input id="kurskod" placeholder="t.ex. D0031N" required />
      </div>
      <div style="align-self:end">
        <button id="btnModuler">Hämta moduler</button>
      </div>
      <div>
        <label for="modul">Modul</label>
        <select id="modul"></select>
      </div>
    </div>
    <div id="modulMsg"></div>
  </fieldset>

  <fieldset>
    <legend>2) Student</legend>
    <div class="row">
      <div>
        <label for="anv">Användarnamn</label>
        <input id="anv" placeholder="t.ex. sveedz-4" required />
      </div>
      <div style="align-self:end">
        <button id="btnPersnr">Hämta personnummer</button>
      </div>
      <div>
        <label for="pnr">Personnummer</label>
        <input id="pnr" readonly />
      </div>
    </div>
    <div id="pnrMsg"></div>
  </fieldset>

  <fieldset>
    <legend>3) Resultat</legend>
    <div class="row">
      <div>
        <label for="datum">Datum</label>
        <input id="datum" type="date" required />
      </div>
      <div>
        <label for="betyg">Betyg</label>
        <select id="betyg">
          <option>VG</option>
          <option>G</option>
          <option>U</option>
          <option>A</option>
          <option>B</option>
          <option>C</option>
          <option>D</option>
          <option>E</option>
          <option>F</option>
        </select>
      </div>
      <div style="align-self:end">
        <button id="btnRegistrera">Registrera i Ladok</button>
      </div>
    </div>
    <div id="ladokMsg"></div>
  </fieldset>

  <a href="/swagger-ui.html" target="_blank" rel="noreferrer">Öppna Swagger</a><br>
  <a href="/h2" target="_blank" rel="noreferrer">Öppna H2 Databasen</a><br>
  <p>JDBC URL: jdbc:h2:mem:studieresultat <br>User Name: sa <br>Password: (lämna tomt)</p>

  <script src="/js/scripts.js"></script>

</body>
</html>
